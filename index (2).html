<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>San Valentino ğŸ’–</title>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
<style>
  :root {
    --pink: #ff6b9d;
    --deep-pink: #e91e8c;
    --light-pink: #ffd6e8;
    --cream: #fff5f8;
    --heart-red: #ff2d6a;
    --soft-red: #ff8fab;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--cream);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-family: 'Nunito', sans-serif;
    overflow: hidden;
    position: relative;
  }

  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: radial-gradient(ellipse at 20% 20%, #ffe4f0 0%, transparent 55%),
                radial-gradient(ellipse at 80% 80%, #ffd6f0 0%, transparent 55%),
                radial-gradient(ellipse at 50% 50%, #fff0f5 0%, transparent 70%);
    z-index: 0;
    animation: bgPulse 6s ease-in-out infinite alternate;
  }

  @keyframes bgPulse {
    from { opacity: 0.7; }
    to   { opacity: 1; }
  }

  .bg-hearts { position: fixed; inset: 0; pointer-events: none; z-index: 1; }
  .bg-heart {
    position: absolute;
    animation: floatUp linear infinite;
    opacity: 0.15;
    font-size: 1.5rem;
  }

  @keyframes floatUp {
    0%   { transform: translateY(110vh) rotate(0deg); opacity: 0; }
    10%  { opacity: 0.15; }
    90%  { opacity: 0.15; }
    100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
  }

  .card {
    position: relative;
    z-index: 10;
    background: rgba(255,255,255,0.85);
    backdrop-filter: blur(10px);
    border: 3px solid rgba(255,107,157,0.3);
    border-radius: 40px;
    padding: 40px 50px 50px;
    display: flex;
    flex-direction: column;
    align-items: center;
    box-shadow: 0 20px 60px rgba(255,107,157,0.25), 0 4px 20px rgba(255,107,157,0.1);
    max-width: 580px;
    width: 92vw;
  }

  .title {
    font-family: 'Pacifico', cursive;
    font-size: clamp(1.2rem, 4vw, 1.8rem);
    color: var(--deep-pink);
    margin-bottom: 30px;
    text-align: center;
    text-shadow: 2px 2px 0 rgba(255,107,157,0.2);
  }

  .scene {
    position: relative;
    width: 380px;
    height: 260px;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    margin-bottom: 10px;
  }

  /* ---- Seals SVG ---- */
  .seals-wrapper {
    position: relative;
    width: 380px;
    height: 240px;
  }

  svg.seals {
    width: 100%;
    height: 100%;
    overflow: visible;
  }

  /* Breathing animations */
  .seal-left {
    animation: breatheLeft 2.5s ease-in-out infinite;
    transform-origin: 95px 155px;
  }
  .seal-right {
    animation: breatheRight 2.5s ease-in-out infinite;
    transform-origin: 285px 155px;
  }

  @keyframes breatheLeft {
    0%, 100% { transform: rotate(-3deg) translateX(-3px); }
    50%       { transform: rotate(2deg)  translateX(3px); }
  }
  @keyframes breatheRight {
    0%, 100% { transform: rotate(3deg)  translateX(3px); }
    50%       { transform: rotate(-2deg) translateX(-3px); }
  }

  /* Flipper wave â€” outer flippers only */
  .flipper-outer-l {
    animation: waveFlipper 1.8s ease-in-out infinite;
    transform-origin: 52px 148px;
  }
  .flipper-outer-r {
    animation: waveFlipper 1.8s ease-in-out infinite reverse;
    transform-origin: 328px 148px;
  }

  @keyframes waveFlipper {
    0%, 100% { transform: rotate(0deg); }
    40%       { transform: rotate(22deg); }
  }

  /* Inner flippers â€” slight gentle wave toward heart */
  .flipper-inner-l {
    animation: waveInnerL 2.2s ease-in-out infinite;
    transform-origin: 128px 148px;
  }
  .flipper-inner-r {
    animation: waveInnerR 2.2s ease-in-out infinite;
    transform-origin: 252px 148px;
  }

  @keyframes waveInnerL {
    0%, 100% { transform: rotate(0deg); }
    50%       { transform: rotate(-12deg); }
  }
  @keyframes waveInnerR {
    0%, 100% { transform: rotate(0deg); }
    50%       { transform: rotate(12deg); }
  }

  /* Tails */
  .tail-l { animation: tailWag 1.4s ease-in-out infinite;         transform-origin: 68px 188px; }
  .tail-r { animation: tailWag 1.4s ease-in-out infinite reverse; transform-origin: 312px 188px; }

  @keyframes tailWag {
    0%, 100% { transform: rotate(-10deg); }
    50%       { transform: rotate(10deg); }
  }

  /* Eye blink */
  .eye-l, .eye-r {
    animation: blink 4s ease-in-out infinite;
    transform-origin: center;
  }
  .eye-r { animation-delay: 0.2s; }

  @keyframes blink {
    0%, 90%, 100% { transform: scaleY(1); }
    95%           { transform: scaleY(0.08); }
  }

  /* Heart beat */
  .center-heart {
    animation: heartBeat 1s ease-in-out infinite;
    transform-origin: 190px 118px;
  }
  @keyframes heartBeat {
    0%, 100% { transform: scale(1); }
    15%       { transform: scale(1.4); }
    30%       { transform: scale(1.05); }
    45%       { transform: scale(1.3); }
    60%       { transform: scale(1); }
  }

  /* Floating hearts around scene */
  .float-heart {
    position: absolute;
    font-size: 1.3rem;
    animation: floatHeart 3s ease-in-out infinite;
    pointer-events: none;
  }
  @keyframes floatHeart {
    0%, 100% { transform: translateY(0) scale(1); opacity: 0.85; }
    50%       { transform: translateY(-16px) scale(1.15); opacity: 1; }
  }

  .question {
    font-family: 'Pacifico', cursive;
    font-size: clamp(1.2rem, 4vw, 1.65rem);
    color: var(--deep-pink);
    text-align: center;
    margin: 20px 0 30px;
    text-shadow: 1px 1px 0 rgba(255,45,106,0.15);
    line-height: 1.4;
  }

  .buttons {
    display: flex;
    flex-direction: column;
    gap: 14px;
    align-items: center;
    justify-content: center;
    min-height: 100px;
  }

  .btn {
    border: none;
    border-radius: 50px;
    font-family: 'Nunito', sans-serif;
    font-weight: 900;
    font-size: 1.1rem;
    cursor: pointer;
    transition: transform 0.15s ease, box-shadow 0.15s ease;
    letter-spacing: 0.5px;
  }

  #btn-yes {
    background: linear-gradient(135deg, var(--deep-pink), var(--heart-red));
    color: white;
    padding: 14px 36px;
    box-shadow: 0 6px 20px rgba(233,30,140,0.4);
    font-size: 1.15rem;
    transition: padding 0.4s cubic-bezier(.34,1.56,.64,1),
                font-size 0.4s cubic-bezier(.34,1.56,.64,1),
                box-shadow 0.4s ease,
                border-radius 0.4s ease;
  }
  #btn-yes:hover {
    transform: scale(1.06);
    box-shadow: 0 10px 30px rgba(233,30,140,0.5);
  }

  #btn-no {
    background: linear-gradient(135deg, #ccc, #aaa);
    color: white;
    padding: 12px 28px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    /* in normal flow â€” always centered below btn-yes */
  }
  #btn-no:hover { transform: scale(1.04); }

  /* Winner overlay */
  #winner {
    display: none;
    position: fixed;
    inset: 0;
    background: linear-gradient(135deg, #ff6b9d, #ff2d6a, #e91e8c);
    z-index: 999;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: white;
    text-align: center;
    padding: 40px;
    animation: winnerReveal 0.6s cubic-bezier(.34,1.56,.64,1);
  }
  @keyframes winnerReveal {
    from { transform: scale(0.5); opacity: 0; }
    to   { transform: scale(1);   opacity: 1; }
  }
  #winner.show { display: flex; }

  .winner-emoji { font-size: 5rem; animation: bounce 0.8s ease-in-out infinite alternate; }
  @keyframes bounce {
    from { transform: translateY(0); }
    to   { transform: translateY(-20px); }
  }
  .winner-text {
    font-family: 'Pacifico', cursive;
    font-size: clamp(2rem, 8vw, 4rem);
    margin: 20px 0;
    text-shadow: 3px 3px 0 rgba(0,0,0,0.15);
  }
  .winner-sub  { font-size: clamp(1rem, 3vw, 1.4rem); opacity: 0.9; }
  .winner-hearts {
    font-size: 2.5rem;
    letter-spacing: 8px;
    margin-top: 20px;
    animation: pulse 1.2s ease-in-out infinite;
  }
  @keyframes pulse { 0%,100%{transform:scale(1)} 50%{transform:scale(1.2)} }
</style>
</head>
<body>

<div class="bg-hearts" id="bgHearts"></div>

<div class="card">
  <div class="title">ğŸ’• Hey ğŸ’•</div>

  <div class="scene">
    <!-- Floating hearts -->
    <span class="float-heart" style="top:10px; left:10px; animation-delay:0s;">ğŸ’—</span>
    <span class="float-heart" style="top:20px; right:10px; animation-delay:0.5s;">ğŸ’“</span>
    <span class="float-heart" style="top:50px; left:0px; animation-delay:1s;">ğŸ’–</span>
    <span class="float-heart" style="top:50px; right:0px; animation-delay:1.5s;">ğŸ’</span>
    <span class="float-heart" style="top:100px; left:5px; animation-delay:0.8s;">ğŸ’•</span>
    <span class="float-heart" style="top:100px; right:5px; animation-delay:1.3s;">ğŸ’—</span>
    <span class="float-heart" style="bottom:20px; left:15px; animation-delay:0.3s;">ğŸ’“</span>
    <span class="float-heart" style="bottom:20px; right:15px; animation-delay:0.9s;">ğŸ’–</span>

    <div class="seals-wrapper">
      <!--
        SVG viewBox: 0 0 380 230
        Left seal  centered around x=90
        Right seal centered around x=290
        Heart sits at center x=190, yâ‰ˆ95  â€” clear gap between the two seals
      -->
      <svg class="seals" viewBox="0 0 380 230" xmlns="http://www.w3.org/2000/svg">

        <defs>
          <filter id="glow" x="-60%" y="-60%" width="220%" height="220%">
            <feGaussianBlur stdDeviation="4" result="blur"/>
            <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
          </filter>
        </defs>

        <!-- â•â•â•â•â•â•â•â•â•â• LEFT SEAL (center ~x=90) â•â•â•â•â•â•â•â•â•â• -->
        <g class="seal-left">

          <!-- Outer left flipper -->
          <g class="flipper-outer-l">
            <ellipse cx="52" cy="152" rx="24" ry="11" fill="#b89a72" transform="rotate(-35,52,152)"/>
          </g>

          <!-- Body -->
          <ellipse cx="90"  cy="158" rx="58" ry="46" fill="#c8a882"/>
          <ellipse cx="90"  cy="158" rx="54" ry="42" fill="#d4b896"/>
          <!-- Belly -->
          <ellipse cx="90"  cy="168" rx="35" ry="28" fill="#e8d5be"/>

          <!-- Tail -->
          <g class="tail-l">
            <ellipse cx="43" cy="186" rx="18" ry="11" fill="#c8a882" transform="rotate(-18,43,186)"/>
            <ellipse cx="33" cy="192" rx="13" ry="7"  fill="#b89a72" transform="rotate(-28,33,192)"/>
          </g>

          <!-- Inner right flipper (pointing gently toward center, no overlap) -->
          <g class="flipper-inner-l">
            <ellipse cx="130" cy="155" rx="22" ry="10" fill="#b89a72" transform="rotate(20,130,155)"/>
          </g>

          <!-- Head (faces right, toward center) -->
          <ellipse cx="136" cy="118" rx="36" ry="30" fill="#c8a882"/>
          <ellipse cx="136" cy="120" rx="32" ry="26" fill="#d4b896"/>
          <!-- Snout -->
          <ellipse cx="155" cy="128" rx="16" ry="12" fill="#e8d5be"/>
          <!-- Nose -->
          <ellipse cx="162" cy="122" rx="6"  ry="5"  fill="#8b6550"/>
          <ellipse cx="161" cy="121" rx="2.5" ry="2" fill="#5a3e30"/>
          <!-- Eye -->
          <g class="eye-l">
            <circle cx="140" cy="110" r="7.5" fill="#3a2a1a"/>
            <circle cx="142" cy="108" r="2.8" fill="white"/>
            <circle cx="143" cy="109" r="1.2" fill="white" opacity="0.7"/>
          </g>
          <!-- Whiskers -->
          <line x1="163" y1="126" x2="183" y2="122" stroke="#a09080" stroke-width="1.5" opacity="0.6"/>
          <line x1="163" y1="129" x2="184" y2="129" stroke="#a09080" stroke-width="1.5" opacity="0.6"/>
          <line x1="163" y1="132" x2="182" y2="136" stroke="#a09080" stroke-width="1.5" opacity="0.6"/>
          <!-- Smile -->
          <path d="M 149 131 Q 156 138 163 131" stroke="#8b6550" stroke-width="2.5" fill="none" stroke-linecap="round"/>
          <!-- Blush -->
          <ellipse cx="122" cy="124" rx="9" ry="5.5" fill="#ffb6c8" opacity="0.55"/>
        </g>

        <!-- â•â•â•â•â•â•â•â•â•â• RIGHT SEAL (center ~x=290) â•â•â•â•â•â•â•â•â•â• -->
        <g class="seal-right">

          <!-- Outer right flipper -->
          <g class="flipper-outer-r">
            <ellipse cx="328" cy="152" rx="24" ry="11" fill="#88b4c8" transform="rotate(35,328,152)"/>
          </g>

          <!-- Body -->
          <ellipse cx="290" cy="158" rx="58" ry="46" fill="#a0c4d8"/>
          <ellipse cx="290" cy="158" rx="54" ry="42" fill="#b4d4e8"/>
          <!-- Belly -->
          <ellipse cx="290" cy="168" rx="35" ry="28" fill="#daf0f8"/>

          <!-- Tail -->
          <g class="tail-r">
            <ellipse cx="337" cy="186" rx="18" ry="11" fill="#a0c4d8" transform="rotate(18,337,186)"/>
            <ellipse cx="347" cy="192" rx="13" ry="7"  fill="#88b4c8" transform="rotate(28,347,192)"/>
          </g>

          <!-- Inner left flipper (pointing gently toward center, no overlap) -->
          <g class="flipper-inner-r">
            <ellipse cx="250" cy="155" rx="22" ry="10" fill="#88b4c8" transform="rotate(-20,250,155)"/>
          </g>

          <!-- Head (faces left, toward center) -->
          <ellipse cx="244" cy="118" rx="36" ry="30" fill="#a0c4d8"/>
          <ellipse cx="244" cy="120" rx="32" ry="26" fill="#b4d4e8"/>
          <!-- Snout -->
          <ellipse cx="225" cy="128" rx="16" ry="12" fill="#daf0f8"/>
          <!-- Nose -->
          <ellipse cx="218" cy="122" rx="6"  ry="5"  fill="#5a7a8c"/>
          <ellipse cx="219" cy="121" rx="2.5" ry="2" fill="#3a5060"/>
          <!-- Eye -->
          <g class="eye-r">
            <circle cx="240" cy="110" r="7.5" fill="#2a3a4a"/>
            <circle cx="238" cy="108" r="2.8" fill="white"/>
            <circle cx="237" cy="109" r="1.2" fill="white" opacity="0.7"/>
          </g>
          <!-- Whiskers -->
          <line x1="217" y1="126" x2="197" y2="122" stroke="#8090a0" stroke-width="1.5" opacity="0.6"/>
          <line x1="217" y1="129" x2="196" y2="129" stroke="#8090a0" stroke-width="1.5" opacity="0.6"/>
          <line x1="217" y1="132" x2="198" y2="136" stroke="#8090a0" stroke-width="1.5" opacity="0.6"/>
          <!-- Smile -->
          <path d="M 217 131 Q 224 138 231 131" stroke="#5a7a8c" stroke-width="2.5" fill="none" stroke-linecap="round"/>
          <!-- Blush -->
          <ellipse cx="258" cy="124" rx="9" ry="5.5" fill="#ffb6c8" opacity="0.55"/>
        </g>

        <!-- â•â•â•â•â•â•â•â•â•â• CENTER HEART (x=190, fully clear of both seals) â•â•â•â•â•â•â•â•â•â• -->
        <g class="center-heart">
          <path d="M190,95 C190,95 179,83 172,88 C165,93 165,103 172,110 L190,128 L208,110 C215,103 215,93 208,88 C201,83 190,95 190,95 Z"
                fill="#ff2d6a" filter="url(#glow)"/>
        </g>

      </svg>
    </div>
  </div>

  <div class="question">Vuoi essere il mio San Valentino? ğŸ¥º</div>

  <div class="buttons">
    <button class="btn" id="btn-yes" onclick="handleYes()">âœ¨ SÃ¬! âœ¨</button>
    <button class="btn" id="btn-no" onclick="handleNo()">No</button>
  </div>
</div>

<!-- Winner screen -->
<div id="winner">
  <div class="winner-emoji">ğŸ¦­ğŸ’•ğŸ¦­</div>
  <div class="winner-text">Evviva!!</div>
  <div class="winner-sub">Sapevo che avresti detto di sÃ¬ ğŸ¥°<br>Ora paga Nakai!</div>
  <div class="winner-hearts">ğŸ’– ğŸ’— ğŸ’“ ğŸ’ ğŸ’•</div>
</div>

<script>
  // ---- Background hearts ----
  const bgContainer = document.getElementById('bgHearts');
  const heartChars = ['ğŸ’–','ğŸ’—','ğŸ’“','ğŸ’','ğŸ’•','â¤ï¸','ğŸ©·','ğŸ’˜','ğŸ’'];
  for (let i = 0; i < 20; i++) {
    const h = document.createElement('span');
    h.classList.add('bg-heart');
    h.textContent = heartChars[Math.floor(Math.random() * heartChars.length)];
    h.style.left = Math.random() * 100 + 'vw';
    h.style.fontSize = (1 + Math.random() * 2) + 'rem';
    h.style.animationDuration = (8 + Math.random() * 12) + 's';
    h.style.animationDelay = (-Math.random() * 15) + 's';
    bgContainer.appendChild(h);
  }

  // ---- No button logic ----
  // The No button lives in normal document flow inside .buttons (flex column),
  // so it is ALWAYS centered directly below the SÃ¬ button automatically.
  // No positioning tricks needed â€” the flex layout handles it.

  let noClickCount = 0;
  const btnYes = document.getElementById('btn-yes');
  const btnNo  = document.getElementById('btn-no');

  // Labels that change as the user keeps clicking
  const noLabels = [
    'No', 'Sicuro?', 'Davvero?', 'Ma dai...', 'Pensa bene!',
    'Ripensaci!', 'Uuuh...', 'Noooo...', 'Dai su!!', 'Coraggio!',
    'Quasi quasi...', 'Diglielo!', 'Su forza!', 'Ci sei quasi!',
    'Ultimo tentativo?', 'Davvero davvero?', 'Impossibile...', 'Ok ok... ğŸ˜­'
  ];

  function handleNo() {
    noClickCount++;

    // â”€â”€ Grow the SÃ¬ button every click â”€â”€
    // Padding grows moderately so it doesn't overflow the card too fast
    const currentPad  = 14 + noClickCount * 4;
    const currentFont = 1.15 + noClickCount * 0.12;
    btnYes.style.padding      = currentPad + 'px ' + (currentPad * 2.2) + 'px';
    btnYes.style.fontSize     = currentFont + 'rem';
    btnYes.style.borderRadius = '60px';

    // â”€â”€ Update No label â”€â”€
    if (noClickCount < noLabels.length) {
      btnNo.textContent = noLabels[noClickCount];
    }

    // â”€â”€ Fade + shrink only after click 18, gone at click 22 â”€â”€
    if (noClickCount >= 18) {
      const stepsIntoFade = noClickCount - 18;           // 0â€¦4
      const scale   = Math.max(0.15, 1 - stepsIntoFade * 0.2);
      const opacity = Math.max(0,    1 - stepsIntoFade * 0.25);
      btnNo.style.transform = 'scale(' + scale + ')';
      btnNo.style.opacity   = String(opacity);
    }
    if (noClickCount >= 22) {
      btnNo.style.visibility = 'hidden';   // hidden keeps its space so layout doesn't jump
    }

    // â”€â”€ Trigger winner once SÃ¬ is giant â”€â”€
    if (currentFont > 5) {
      setTimeout(() => document.getElementById('winner').classList.add('show'), 400);
    }
  }

  function handleYes() {
    spawnConfetti();
    setTimeout(() => document.getElementById('winner').classList.add('show'), 300);
  }

  function spawnConfetti() {
    for (let i = 0; i < 50; i++) {
      setTimeout(() => {
        const c = document.createElement('span');
        c.style.cssText = `position:fixed;left:${Math.random()*100}vw;top:${Math.random()*100}vh;font-size:${1+Math.random()*2}rem;z-index:998;pointer-events:none;animation:floatUp ${2+Math.random()*3}s ease forwards;`;
        c.textContent = ['ğŸ’–','ğŸ’—','ğŸ’“','ğŸ’','ğŸ’•','âœ¨','ğŸŒ¸','ğŸ¥°'][Math.floor(Math.random()*8)];
        document.body.appendChild(c);
        setTimeout(() => c.remove(), 5000);
      }, i * 50);
    }
  }
</script>
</body>
</html>
